<!DOCTYPE html>
<!-- THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY. -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>SVG Sprite Preview</title>
  <style>
    *, *:before, *:after {
      box-sizing: border-box;
    }

    body {
      margin: 0;
    }

    .i-box {
      text-align: center;
      font-size: 40px;
      border: 1px solid #000;
      border-radius: 5px;
      background: #fff;
      color: #000;
      cursor: pointer;
      padding-bottom: 25px;
      margin: 20px;
      position: relative;
      z-index: auto;
    }

    .i-box:hover {
      box-shadow: 0 5px 10px 0 rgba(0,0,0,0.1);
    }

    .i-box__canvas {
      min-width: 120px;
      min-height: 120px;
      padding: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .with-bounds .i-box__canvas > * {
      background: #fff;
    }

    .i-box__caption {
      position: absolute;
      z-index: 1;
      bottom: 0;
      left: 0;
      right: 0;
      font-size: 14px;
      padding: 3px;
      background: #fff;
      color: #000;
      border-radius: 0 0 4px 4px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .i-toolbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      min-height: 60px;
      background: rgba(255,255,255,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 8px;
      font-size: 12px;
      color: black;
      z-index: 99;
    }

    .i-toolbar h1 {
      font-size: 22px;
      line-height: 1;
    }

    .i-toolbar:after {
      content: "";
      position: absolute;
      z-index: -1;
      top: 0;
      left: -20px;
      right: -20px;
      bottom: 0;
      box-shadow: 0 10px 15px -12px rgba(0,0,0,0.15);
    }

    .i-toolbar input {
      height: 30px;
      border-radius: 3px;
      border: 1px solid #000;
      padding: 0 10px;
      font-size: 12px;
      background: transparent;
    }

    .i-toolbar input:not([type="checkbox"]) {
      -webkit-appearance: none;
    }

    .i-toolbar input[type="search"] {
      width: 230px;
    }

    .i-toolbar input[type="number"] {
      width: 60px;
    }

    .i-toolbar input[type="color"] {
      width: 40px;
      padding: 0;
    }

    .i-toolbar > label {
      display: flex;
      align-items: center;
    }

    .i-toolbar > label > input {
      margin-left: 8px;
    }

    .i-toolbar > * {
      margin: 0 15px 0 0;
    }

    .i-toolbar > *:last-child {
      margin-right: 0;
    }

    .i-box-container {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      padding-top: 60px;
      max-width: 1024px;
      margin: auto;
    }

    .<%= iconClassName %> {
      height: 1em;
    }

    <% _.each(icons, function(icon) { %>.<%= icon.name %> {
      width: <%= icon.ratio %>em;
    }<% }); %>
  </style>
</head>
<body>
<div class="i-toolbar">
  <h1><%= icons.length %> icons</h1>
  <input type="search" name="search" placeholder="Search icon" autocomplete="off">
  <label>
    <span>Size:</span>
    <input type="number" name="size" value="40">
  </label>
  <label>
    <span>Primary color:</span>
    <input type="color" name="primary-color" value="#333333">
  </label>
  <label>
    <span>Secondary color:</span>
    <input type="color" name="secondary-color" value="#333333">
  </label>
  <label>
    <span>Background:</span>
    <input type="color" name="background" value="#ffffff">
  </label>
  <label>
    <span>Bounds</span>
    <input type="checkbox" name="bounds">
  </label>
</div>

<div class="i-box-container">
  <% _.forEach(icons, function(icon) { %>
  <figure class="i-box" data-icon="<%= icon.name %>">
    <div class="i-box__canvas">
      <svg class="<%= iconClassName %> <%= icon.name %>">
        <use xlink:href="<%= spritePath  %>/<%= spriteName  %>.svg#<%= icon.name %>"></use>
      </svg>
    </div>
    <figcaption class="i-box__caption"><%= icon.name %></figcaption>
  </figure>
  <% }) %>
</div>

<script src="https://unpkg.com/delegate@3.1.3/dist/delegate.js"></script>

<script>
  'use strict';
  // https://github.com/sindresorhus/copy-text-to-clipboard
  function copyToClipboard(input) {
    const el = document.createElement('textarea');

    el.value = input;

    // Prevent keyboard from showing on mobile
    el.setAttribute('readonly', '');

    el.style.contain = 'strict';
    el.style.position = 'absolute';
    el.style.left = '-9999px';
    el.style.fontSize = '12pt'; // Prevent zooming on iOS

    const selection = getSelection();
    let originalRange = false;
    if (selection.rangeCount > 0) {
      originalRange = selection.getRangeAt(0);
    }

    document.body.appendChild(el);
    el.select();

    let success = false;
    try {
      success = document.execCommand('copy');
    } catch (err) { }

    document.body.removeChild(el);

    if (originalRange) {
      selection.removeAllRanges();
      selection.addRange(originalRange);
    }

    return success;
  };
</script>

<script>
  'use strict';
  const qs = (selector, context = document) => context.querySelector(selector);
  const qsa = (selector, context = document) => Array.prototype.slice.call(
    context.querySelectorAll(selector)
  );
</script>

<script>
  'use strict';
  // main script
  const toolbar = qs('.i-toolbar');
  const icons = qsa('.i-box');
  const counter = qs('span:first-child', toolbar || undefined);

  const filter = (val = '') => {
    let count = 0;

    if (val === '') {
      icons.forEach(icon => icon.style.display = '');
      count = icons.length;
    } else {
      icons.forEach(icon => {
        let display = 'none';
        if (icon.dataset.icon.indexOf(val) > -1) {
          display = '';
          count++;
        }
        icon.style.display = display;
      });
    }

    counter && (counter.innerHTML = counter.innerHTML.replace(/\d+/, count));
  };

  const changeSize = (size) => {
    size = +size;
    size && icons.forEach(icon => icon.style.fontSize = size + 'px');
  };

  const changePrimaryColor = (color = '') => {
    icons.forEach(icon => icon.style.fill = color);
  };

  const changeSecondaryColor = (color = '') => {
    icons.forEach(icon => icon.style.color = color);
  };

  const changeBackground = (color = '') => {
    icons.forEach(icon => icon.style.backgroundColor = color);
  };

  const toggleBounds = () => {
    icons[0].parentNode.classList.toggle('with-bounds');
  };

  const handleInput = (e) => {
    const { name, value } = e.target;
    switch (name) {
      case 'search':
        return filter(value);
      case 'size':
        return changeSize(value);
      case 'primary-color':
        return changePrimaryColor(value);
      case 'secondary-color':
        return changeSecondaryColor(value);
      case 'background':
        return changeBackground(value);
    }
  };

  const handleCheckboxChange = (e) => {
    const { name } = e.target;
    switch (name) {
      case 'bounds':
        return toggleBounds();
      default:
        return;
    }
  };

  const handleIconClick = (e) => {
    const target = e.target.closest('[data-icon]');
    copyToClipboard(target.dataset.icon);
  };

  delegate(toolbar, 'input', 'input', handleInput);
  delegate(toolbar, '[type="checkbox"]', 'change', handleCheckboxChange);
  delegate(document.body, '[data-icon]', 'click', handleIconClick);
</script>
</body>
</html>
